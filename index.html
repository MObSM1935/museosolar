<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Observatorio de Física Cósmica de San Miguel - Inicio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; 
            color: #e2e8f0; 
        }
        .navbar-glass {
            background-color: rgba(26, 32, 44, 0.8); 
            backdrop-filter: blur(10px);
        }
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('https://placehold.co/1920x1080/000033/FFFFFF?text=Imagen+Impactante+del+Sol') no-repeat center center;
            background-size: cover;
        }
        .card {
            background-color: #2d3748; 
            border: 1px solid #4a5568; 
        }
        .btn-primary {
            background-color: #f6ad55; 
            color: #1a202c;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #ed8936; 
        }
        .btn-secondary {
            background-color: #4a5568; 
            color: #e2e8f0;
            transition: background-color 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #2d3748;
        }
        .section-title {
            color: #f6ad55; 
        }
        .premium-tag {
            background-color: #f6ad55;
            color: #1a202c;
            font-size: 0.75rem;
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: bold;
            margin-left: 0.5rem;
        }
        .footer {
            background-color: #00001a; 
        }
        #map {
            width: 100%;
            height: 384px; 
        }
        section[id] {
            scroll-margin-top: 80px; 
        }
        /* Estilos para el Chatbot */
        #chat-display p {
            line-height: 1.6;
        }
        #chat-display strong.text-yellow-400 { /* Usuario */
            color: #f6ad55;
        }
        #chat-display strong.text-blue-400 { /* AstroBot */
            color: #63b3ed;
        }
    </style>
</head>
<body>

    <nav class="navbar-glass sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white">
                <i class="fas fa-solar-system mr-2 text-yellow-400"></i>Observatorio San Miguel
            </a>
            <div class="hidden md:flex space-x-4 items-center">
                <a href="#noticias" class="text-gray-300 hover:text-yellow-400 transition duration-300">Blog</a>
                <a href="#eventos" class="text-gray-300 hover:text-yellow-400 transition duration-300">Eventos</a>
                <a href="#cursos" class="text-gray-300 hover:text-yellow-400 transition duration-300">Cursos</a>
                <a href="#ubicacion" class="text-gray-300 hover:text-yellow-400 transition duration-300">Ubicación</a>
                <a href="#ia" class="text-gray-300 hover:text-yellow-400 transition duration-300">IA Astronómica</a>
                <a href="#chatbot-ia" class="text-gray-300 hover:text-yellow-400 transition duration-300">AstroBot</a> <a href="#comunidad" class="text-gray-300 hover:text-yellow-400 transition duration-300">Comunidad</a>
                <a href="#contacto" class="text-gray-300 hover:text-yellow-400 transition duration-300">Contacto</a>
                <a href="#premium" class="btn-primary px-4 py-2 rounded-md font-semibold">
                    <i class="fas fa-star mr-1"></i>Premium
                </a>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-300 focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="#noticias" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Blog</a>
            <a href="#eventos" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Eventos</a>
            <a href="#cursos" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Cursos</a>
            <a href="#ubicacion" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Ubicación</a>
            <a href="#ia" class="block text-gray-300 hover:text-yellow-400 transition duration-300">IA Astronómica</a>
            <a href="#chatbot-ia" class="block text-gray-300 hover:text-yellow-400 transition duration-300">AstroBot</a> <a href="#comunidad" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Comunidad</a>
            <a href="#contacto" class="block text-gray-300 hover:text-yellow-400 transition duration-300">Contacto</a>
            <a href="#premium" class="block btn-primary px-4 py-2 rounded-md font-semibold text-center mt-2">
                <i class="fas fa-star mr-1"></i>Premium
            </a>
        </div>
    </nav>

    <header class="hero-section h-screen flex items-center justify-center text-center">
        <div class="container mx-auto px-6">
            <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
                Explorando el Corazón del Sistema Solar
            </h1>
            <p class="text-xl md:text-2xl text-gray-200 mb-10 max-w-3xl mx-auto">
                Descubre los secretos del Sol, mantente al día con los últimos eventos astronómicos y únete a nuestra comunidad apasionada por la física cósmica.
            </p>
            <div>
                <a href="#noticias" class="btn-primary text-lg px-8 py-4 rounded-lg font-semibold mr-4">
                    <i class="fas fa-newspaper mr-2"></i>Ver Blog
                </a>
                <a href="#cursos" class="btn-secondary text-lg px-8 py-4 rounded-lg font-semibold">
                    <i class="fas fa-graduation-cap mr-2"></i>Ver Cursos
                </a>
            </div>
        </div>
    </header>

    <section id="eventos" class="py-16 bg-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 section-title">Próximos Eventos Solares y Actividades</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card p-6 rounded-lg shadow-xl">
                    <h3 class="text-xl font-semibold mb-2 text-white">Charla: "El Sol y su Impacto en la Tierra"</h3>
                    <p class="text-gray-400 text-sm mb-1"><i class="fas fa-calendar-alt mr-2"></i>15 de Agosto, 2025 - 18:00 hs</p>
                    <p class="text-gray-400 text-sm mb-3"><i class="fas fa-map-marker-alt mr-2"></i>Auditorio Principal, Observatorio San Miguel</p>
                    <p class="text-gray-300 mb-4">Una charla divulgativa sobre la influencia del Sol en nuestro planeta, desde el clima hasta la tecnología.</p>
                    <a href="#" class="btn-primary px-4 py-2 rounded-md text-sm font-semibold">Más Información</a>
                </div>
                <div class="card p-6 rounded-lg shadow-xl">
                    <h3 class="text-xl font-semibold mb-2 text-white">Noche de Observación Solar (con filtros especiales)</h3>
                    <p class="text-gray-400 text-sm mb-1"><i class="fas fa-calendar-alt mr-2"></i>22 de Agosto, 2025 - 10:00 hs</p>
                    <p class="text-gray-400 text-sm mb-3"><i class="fas fa-map-marker-alt mr-2"></i>Terraza de Observación, Observatorio San Miguel</p>
                    <p class="text-gray-300 mb-4">Oportunidad única para observar el Sol de forma segura con nuestros telescopios especializados.</p>
                    <a href="#" class="btn-primary px-4 py-2 rounded-md text-sm font-semibold">Inscribirse</a>
                </div>
            </div>
        </div>
    </section>

    <section id="cursos" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 section-title">Cursos y Formación Académica</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card rounded-lg shadow-xl overflow-hidden">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Curso+Astrofísica" alt="Curso Astrofísica" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">Introducción a la Astrofísica Solar <span class="premium-tag">PREMIUM</span></h3>
                        <p class="text-gray-400 text-sm mb-4">Un curso completo para entender los fundamentos de la física de nuestra estrella. Acceso exclusivo para miembros premium.</p>
                        <a href="#premium" class="btn-secondary px-4 py-2 rounded-md text-sm font-semibold">Ver Beneficios Premium</a>
                    </div>
                </div>
                <div class="card rounded-lg shadow-xl overflow-hidden">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Curso+Observación" alt="Curso Observación" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">Técnicas de Observación Astronómica</h3>
                        <p class="text-gray-400 text-sm mb-4">Aprende a utilizar telescopios y a interpretar datos astronómicos. Abierto a todo público.</p>
                        <a href="#" class="btn-primary px-4 py-2 rounded-md text-sm font-semibold">Inscribirse Ahora</a>
                    </div>
                </div>
                <div class="card rounded-lg shadow-xl overflow-hidden">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Curso+IA" alt="Curso IA" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">IA Aplicada a la Astronomía <span class="premium-tag">PREMIUM</span></h3>
                        <p class="text-gray-400 text-sm mb-4">Descubre cómo la Inteligencia Artificial está revolucionando la investigación astronómica. Contenido avanzado para suscriptores.</p>
                        <a href="#premium" class="btn-secondary px-4 py-2 rounded-md text-sm font-semibold">Ver Beneficios Premium</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="ubicacion" class="py-16 bg-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8 section-title">Visítanos</h2>
            <div class="max-w-4xl mx-auto card rounded-lg shadow-xl overflow-hidden p-2">
                <div id="map" class="rounded-md bg-gray-700 flex items-center justify-center">
                    <p class="text-gray-400">Cargando mapa del Observatorio...</p>
                </div>
            </div>
            <p class="text-center mt-6 text-gray-400">Av. Ejemplo 123, San Miguel, Buenos Aires, Argentina</p>
        </div>
    </section>
   
    <section id="noticias" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 section-title">Blog: Noticias Astronómicas y Tecnología Solar</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card rounded-lg shadow-xl overflow-hidden transform hover:scale-105 transition-transform duration-300">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Avance+Solar" alt="Noticia 1" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">Nuevo Descubrimiento sobre la Corona Solar</h3>
                        <p class="text-gray-400 text-sm mb-4">Investigadores revelan datos sorprendentes sobre las altas temperaturas de la corona...</p>
                        <a href="#" class="text-yellow-400 hover:text-yellow-300 font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                </div>
                <div class="card rounded-lg shadow-xl overflow-hidden transform hover:scale-105 transition-transform duration-300">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Tecnología+Espacial" alt="Noticia 2" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">Lanzamiento Exitoso de Sonda Solar</h3>
                        <p class="text-gray-400 text-sm mb-4">La sonda "Helios VI" inicia su viaje para estudiar de cerca nuestra estrella...</p>
                        <a href="#" class="text-yellow-400 hover:text-yellow-300 font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                </div>
                <div class="card rounded-lg shadow-xl overflow-hidden transform hover:scale-105 transition-transform duration-300">
                    <img src="https://placehold.co/600x400/000033/FFFFFF?text=Evento+Astronómico" alt="Noticia 3" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-white">Próxima Lluvia de Meteoros: Guía de Observación</h3>
                        <p class="text-gray-400 text-sm mb-4">Prepárate para el espectáculo celestial de las Perseidas este agosto...</p>
                        <a href="#" class="text-yellow-400 hover:text-yellow-300 font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="imagen-solar" class="py-16 bg-gray-800">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-4 section-title">Imagen Solar del Día</h2>
            <p class="text-gray-400 mb-8">Cortesía de NASA API</p>
            <div id="nasa-solar-image-container" class="max-w-2xl mx-auto card rounded-lg shadow-xl overflow-hidden">
                <img id="nasa-image" src="https://placehold.co/800x600/1A202C/E2E8F0?text=Cargando+imagen+solar..." alt="Imagen Solar del Día" class="w-full h-auto">
                <div class="p-6">
                    <h3 id="nasa-title" class="text-xl font-semibold mb-2 text-white">Título de la Imagen</h3>
                    <p id="nasa-explanation" class="text-gray-400 text-sm">Descripción o explicación de la imagen...</p>
                </div>
            </div>
             <button id="load-nasa-image" class="mt-8 btn-primary px-6 py-3 rounded-lg font-semibold">
                <i class="fas fa-sync-alt mr-2"></i>Cargar Nueva Imagen Manualmente
            </button>
        </div>
    </section>

    <section id="ia" class="py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-8 section-title">Inteligencia Artificial al Servicio de la Astronomía</h2>
            <div class="max-w-3xl mx-auto">
                <i class="fas fa-brain text-6xl text-yellow-400 mb-6"></i>
                <p class="text-lg text-gray-300 mb-6"> {/* Párrafo 1, se mantiene estático */}
                    En el Observatorio de Física Cósmica de San Miguel, estamos explorando el potencial de la IA para analizar grandes volúmenes de datos solares, predecir eventos espaciales y asistir en la investigación astronómica.
                </p>
                {/* Este párrafo se actualizará con la respuesta de la API Gemini (según el código original) */}
                <p class="text-gray-400 mb-8" id="ia-detail-text"> 
                    Nuestros modelos de IA (como Gemini) están siendo entrenados con datos históricos y observaciones en tiempo real para ofrecer nuevas perspectivas sobre el comportamiento solar y fenómenos cósmicos.
                </p>
                <a href="#" class="btn-primary px-6 py-3 rounded-lg font-semibold">
                    <i class="fas fa-cogs mr-2"></i>Conoce Nuestros Proyectos de IA
                </a>
            </div>
        </div>
    </section>

    <section id="chatbot-ia" class="py-16 bg-gray-900">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-8 section-title">Pregúntale a AstroBot <i class="fas fa-robot ml-2"></i></h2>
            <p class="text-gray-400 mb-6 max-w-xl mx-auto">Interactúa con nuestra IA especializada en astronomía. AstroBot está aquí para responder tus preguntas sobre el cosmos, el Observatorio y más.</p>
            <div class="max-w-2xl mx-auto card p-6 rounded-lg shadow-xl">
                <div id="chat-display" class="h-72 overflow-y-auto mb-4 p-4 bg-gray-800 rounded-md text-left text-sm">
                    <p class="text-left mb-2"><strong class="text-blue-400">AstroBot:</strong> ¡Hola! Soy AstroBot, tu asistente astronómico virtual del Observatorio San Miguel. ¿Tienes alguna pregunta sobre el universo, nuestra estrella el Sol, o las actividades del observatorio?</p>
                </div>
                <div class="flex mt-4">
                    <input type="text" id="chat-input" class="flex-grow p-3 rounded-l-md border border-gray-600 bg-gray-700 text-white focus:outline-none focus:border-yellow-500 placeholder-gray-500" placeholder="Escribe tu pregunta aquí...">
                    <button id="chat-submit" class="btn-primary px-5 py-3 rounded-r-md font-semibold">
                        <i class="fas fa-paper-plane"></i> Enviar
                    </button>
                </div>
            </div>
        </div>
    </section>
    <section id="comunidad" class="py-16 bg-gray-800">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-8 section-title">Únete a Nuestra Comunidad</h2>
             <div class="max-w-2xl mx-auto">
                <i class="fas fa-users text-6xl text-yellow-400 mb-6"></i>
                <p class="text-lg text-gray-300 mb-6">
                    Conecta con otros entusiastas de la astronomía, participa en foros de discusión, comparte tus observaciones y colabora en proyectos ciudadanos.
                </p>
                <a href="#" class="btn-primary px-6 py-3 rounded-lg font-semibold mr-4">
                    <i class="fas fa-comments mr-2"></i>Ir al Foro
                </a>
                 <a href="#premium" class="btn-secondary px-6 py-3 rounded-lg font-semibold">
                    <i class="fas fa-user-plus mr-2"></i>Hazte Miembro Premium
                </a>
            </div>
        </div>
    </section>

    <section id="premium" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 section-title"><i class="fas fa-star mr-2"></i>Acceso Premium del Observatorio</h2>
            <div class="max-w-3xl mx-auto text-center mb-10">
                <p class="text-xl text-gray-300">Lleva tu pasión por la astronomía al siguiente nivel con nuestra membresía premium. Obtén acceso exclusivo a contenido y características diseñadas para verdaderos exploradores del cosmos.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card p-6 rounded-lg shadow-xl text-center">
                    <i class="fas fa-graduation-cap text-4xl text-yellow-400 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2 text-white">Cursos Avanzados</h3>
                    <p class="text-gray-400 text-sm">Acceso ilimitado a nuestros cursos especializados en Astrofísica Solar, Cosmología y manejo de datos astronómicos.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-xl text-center">
                    <i class="fas fa-video text-4xl text-yellow-400 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2 text-white">Webinars Exclusivos</h3>
                    <p class="text-gray-400 text-sm">Participa en webinars mensuales en vivo con nuestros astrónomos y expertos invitados. Sesiones de Q&A incluidas.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-xl text-center">
                    <i class="fas fa-archive text-4xl text-yellow-400 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2 text-white">Archivo Digital</h3>
                    <p class="text-gray-400 text-sm">Acceso completo a grabaciones de eventos pasados, material de estudio adicional y publicaciones de investigación.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-xl text-center md:col-span-2 lg:col-span-1 lg:col-start-2">
                     <i class="fas fa-chart-line text-4xl text-yellow-400 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2 text-white">Visualizador de Datos (Próximamente)</h3>
                    <p class="text-gray-400 text-sm">Herramientas avanzadas para visualizar y analizar datos solares en tiempo real, directamente desde nuestras bases de datos.</p>
                </div>
            </div>
            <div class="text-center mt-12">
                <a href="#" class="btn-primary text-lg px-10 py-4 rounded-lg font-semibold">
                    <i class="fas fa-user-plus mr-2"></i>¡Quiero Ser Premium!
                </a>
                <p class="text-gray-500 mt-4 text-sm">Se requiere una suscripción para acceder a los beneficios premium.</p>
            </div>
        </div>
    </section>
   
    <section id="contacto" class="py-16 bg-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 section-title">Contacto</h2>
            <div class="max-w-2xl mx-auto card p-8 md:p-10 rounded-lg shadow-xl text-center">
                <p class="text-gray-300 mb-6 text-lg">¿Preguntas, sugerencias o deseas colaborar? ¡Nos encantaría escucharte!</p>
                <div class="space-y-4 text-gray-200">
                    <p><i class="fas fa-map-marker-alt mr-3 text-yellow-400"></i>Av. Ejemplo 123, San Miguel, Buenos Aires, Argentina</p>
                    <p><i class="fas fa-phone mr-3 text-yellow-400"></i>(011) 1234-5678</p>
                    <p><i class="fas fa-envelope mr-3 text-yellow-400"></i>info@observatoriosm.org.ar</p>
                </div>
                <div class="mt-8 space-x-6">
                    <a href="#" class="text-gray-400 hover:text-yellow-400 text-3xl transition duration-300"><i class="fab fa-facebook-square"></i></a>
                    <a href="#" class="text-gray-400 hover:text-yellow-400 text-3xl transition duration-300"><i class="fab fa-twitter-square"></i></a>
                    <a href="#" class="text-gray-400 hover:text-yellow-400 text-3xl transition duration-300"><i class="fab fa-instagram-square"></i></a>
                    <a href="#" class="text-gray-400 hover:text-yellow-400 text-3xl transition duration-300"><i class="fab fa-linkedin"></i></a>
                </div>
                 <p class="text-gray-500 mt-8 text-sm">También puedes completar nuestro <a href="#" class="text-yellow-500 hover:text-yellow-400">formulario de contacto online</a> (enlace de ejemplo).</p>
            </div>
        </div>
    </section>

    <footer class="footer text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-2 gap-8 text-center md:text-left">
                <div>
                    <h3 class="text-xl font-semibold mb-4"><i class="fas fa-solar-system mr-2 text-yellow-400"></i>Observatorio San Miguel</h3>
                    <p class="text-gray-400 text-sm">Dedicados a la investigación y divulgación de la física cósmica y solar. Explorando los misterios del universo desde San Miguel al cosmos.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Enlaces de Interés</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#noticias" class="text-gray-400 hover:text-yellow-400">Blog / Noticias</a></li>
                        <li><a href="#eventos" class="text-gray-400 hover:text-yellow-400">Eventos y Actividades</a></li>
                        <li><a href="#cursos" class="text-gray-400 hover:text-yellow-400">Cursos de Astronomía</a></li>
                        <li><a href="#chatbot-ia" class="text-gray-400 hover:text-yellow-400">Pregunta a AstroBot</a></li> <li><a href="#premium" class="text-gray-400 hover:text-yellow-400">Beneficios Premium</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-yellow-400">Política de Privacidad</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-yellow-400">Términos de Servicio</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-500">
                <p class="text-sm">© <span id="currentYear"></span> Observatorio de Física Cósmica de San Miguel. Todos los derechos reservados.</p>
                <p class="text-xs mt-2">Diseño inspirado en las nebulosas y la pasión por el descubrimiento.</p>
            </div>
        </div>
    </footer>

    <script>
        // Menú móvil
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        document.querySelectorAll('#mobile-menu a, nav a[href^="#"]').forEach(link => {
            link.addEventListener('click', (e) => {
                if (link.closest('#mobile-menu')) { // Solo para enlaces dentro del menú móvil
                    mobileMenu.classList.add('hidden');
                }
                // Para el smooth scroll (si aplica a enlaces del navbar principal también)
                let targetId = link.getAttribute('href');
                if (targetId.startsWith('#') && targetId.length > 1) {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // e.preventDefault(); // Descomentar si causa problemas con el cierre del menú
                        // Desplazamiento suave si es necesario (puede que el navegador ya lo haga)
                    }
                }
            });
        });
       
        // Año actual en el footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Carga de imagen de NASA (APOD) - Se mantiene el código original de esta función
        const loadNasaImageButton = document.getElementById('load-nasa-image');
        const nasaImageElement = document.getElementById('nasa-image');
        const nasaTitleElement = document.getElementById('nasa-title');
        const nasaExplanationElement = document.getElementById('nasa-explanation');
       
        async function fetchNasaSolarImage() {
            const heroSection = document.querySelector('.hero-section');
            nasaImageElement.src = 'https://placehold.co/800x600/1A202C/E2E8F0?text=Cargando+imagen+solar...';
            nasaTitleElement.textContent = 'Cargando título...';
            nasaExplanationElement.textContent = 'Cargando descripción...';

            const apiKey = 'F6yk1zmeHdiBpMh3EvGxdA1c1rvo7HeVNxgE7tnY'; // API key de NASA
            const apiUrl = `https://api.nasa.gov/planetary/apod?api_key=${apiKey}`;

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    let errorData = { message: `Error de NASA API: ${response.status}` };
                    try { const apiError = await response.json(); if (apiError && apiError.msg) { errorData.message = apiError.msg;} else if (apiError && apiError.error && apiError.error.message) { errorData.message = apiError.error.message;}} catch (e) {}
                    throw new Error(errorData.message);
                }
                const data = await response.json();

                if (data.media_type === 'image') {
                    nasaImageElement.src = data.url;
                    nasaImageElement.alt = data.title;
                    nasaTitleElement.textContent = data.title;
                    nasaExplanationElement.textContent = data.explanation.substring(0, 200) + '...';
                    if (heroSection) {
                        heroSection.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('${data.url}')`;
                    }
                } else {
                    nasaTitleElement.textContent = data.title || 'Contenido no es una imagen hoy';
                    nasaExplanationElement.textContent = `El contenido de APOD para hoy es de tipo: ${data.media_type}. ${data.explanation ? data.explanation.substring(0,100) + '...' : ''} Puedes verlo en: ${data.url}`;
                    nasaImageElement.src = 'https://placehold.co/800x600/1A202C/E2E8F0?text=Contenido+no+visual+(ej.Video)';
                    nasaImageElement.alt = data.title || 'Contenido no visual';
                }
            } catch (error) {
                console.error('Error al cargar imagen de NASA:', error);
                nasaTitleElement.textContent = 'Error al cargar imagen';
                nasaExplanationElement.textContent = error.message || 'No se pudo obtener la imagen. Intenta más tarde.';
                nasaImageElement.src = 'https://placehold.co/800x600/FF0000/FFFFFF?text=Error+API';
                nasaImageElement.alt = 'Error al cargar imagen de NASA';
            }
        }

        if(loadNasaImageButton) { // Verificar si el botón existe antes de añadir el listener
            loadNasaImageButton.addEventListener('click', fetchNasaSolarImage);
        }
        window.addEventListener('load', fetchNasaSolarImage); // Cargar imagen de NASA al inicio

        // --- FUNCIÓN PARA LA IA ASTRONÓMICA CON GEMINI API (se mantiene la original de Gemini) ---
        async function fetchIAExplanation() {
            const geminiApiKey = 'AIzaSyBzVb38c6rplB85pK4jkSlNVjYwsBmfonQ'; // API KEY de Gemini
            const iaDetailElement = document.getElementById('ia-detail-text');

            if (!iaDetailElement) {
                console.error("Elemento 'ia-detail-text' no encontrado.");
                return;
            }
            iaDetailElement.textContent = 'Consultando a nuestra IA astronómica (Gemini)...'; 
            const prompt = "Explica brevemente, en unas 80 palabras y de forma inspiradora, cómo la Inteligencia Artificial está transformando la astronomía moderna, para la web de un observatorio.";

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${geminiApiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                    }),
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`Error de API Gemini: ${errorData.error?.message || response.status}`);
                }
                const data = await response.json();
                if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
                    const generatedText = data.candidates[0].content.parts[0].text;
                    iaDetailElement.textContent = generatedText;
                } else {
                    let fallbackMessage = 'No se pudo obtener una respuesta de la IA (Gemini) en este momento.';
                    if (data.promptFeedback && data.promptFeedback.blockReason) {
                        fallbackMessage += ` (Razón: ${data.promptFeedback.blockReason})`;
                    } else if (data.candidates && data.candidates.length > 0 && data.candidates[0].finishReason !== "STOP") {
                        fallbackMessage += ` (Razón de finalización: ${data.candidates[0].finishReason})`;
                    }
                    iaDetailElement.textContent = fallbackMessage;
                    console.error('Respuesta inesperada o contenido bloqueado por API Gemini:', data);
                }
            } catch (error) {
                console.error('Error al contactar la IA Astronómica (Gemini API):', error);
                iaDetailElement.textContent = `Error al conectar con la IA (Gemini): ${error.message}. Revisa la consola y tu clave API.`;
            }
        }
        window.addEventListener('load', fetchIAExplanation); // Cargar explicación de IA (Gemini) al inicio
        // --- FIN DE LA FUNCIÓN IA (Gemini) ---

        // --- CÓDIGO PARA EL NUEVO CHATBOT IA CON GPT (OpenAI) ---
        const chatDisplay = document.getElementById('chat-display');
        const chatInput = document.getElementById('chat-input');
        const chatSubmitButton = document.getElementById('chat-submit');
        // ¡IMPORTANTE! USA TU CLAVE API DE PROYECTO DE OPENAI AQUÍ
        const openAIApiKey_Chatbot = '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'; 

        let conversationHistory = [
            { 
                role: "system", 
                content: "Eres AstroBot, un asistente virtual del Observatorio de Física Cósmica de San Miguel. Eres amigable, didáctico y te especializas en astronomía, el sol, física cósmica, eventos astronómicos y las actividades del observatorio. Mantén tus respuestas concisas (máximo 2-3 frases cortas o un párrafo breve si es necesario), informativas y adecuadas para un público general interesado en la astronomía. Si te preguntan algo completamente fuera de tu especialidad (ej. recetas de cocina, política), indica amablemente que no puedes responder sobre ese tema específico ya que tu conocimiento se centra en la astronomía y el observatorio." 
            }
        ];

        function addMessageToChatDisplay(message, sender) {
            const messageElement = document.createElement('p');
            messageElement.classList.add('mb-2', 'break-words'); // break-words para evitar desbordamiento
            if (sender === 'user') {
                messageElement.classList.add('text-right');
                messageElement.innerHTML = `<span class="inline-block bg-yellow-500 bg-opacity-20 p-2 rounded-lg text-gray-200"><strong class="text-yellow-400">Tú:</strong> ${message}</span>`;
            } else { // 'assistant'
                messageElement.classList.add('text-left');
                // Eliminar el mensaje "Pensando..." si existe
                const thinkingMsg = chatDisplay.querySelector('.thinking-message');
                if(thinkingMsg) thinkingMsg.remove();
                messageElement.innerHTML = `<span class="inline-block bg-blue-500 bg-opacity-20 p-2 rounded-lg text-gray-200"><strong class="text-blue-400">AstroBot:</strong> ${message}</span>`;
            }
            chatDisplay.appendChild(messageElement);
            chatDisplay.scrollTop = chatDisplay.scrollHeight; // Auto-scroll to bottom
        }
        
        function showThinkingIndicator() {
            const thinkingElement = document.createElement('p');
            thinkingElement.classList.add('mb-2', 'text-left', 'thinking-message');
            thinkingElement.innerHTML = `<span class="inline-block bg-blue-500 bg-opacity-20 p-2 rounded-lg text-gray-200"><strong class="text-blue-400">AstroBot:</strong> Pensando... <i class="fas fa-spinner fa-spin ml-1"></i></span>`;
            chatDisplay.appendChild(thinkingElement);
            chatDisplay.scrollTop = chatDisplay.scrollHeight;
        }


        async function handleChatSubmit() {
            const userMessage = chatInput.value.trim();
            if (!userMessage || !openAIApiKey_Chatbot) {
                 if(!openAIApiKey_Chatbot) console.error("API Key de OpenAI para el Chatbot no está configurada.");
                return;
            }

            addMessageToChatDisplay(userMessage, 'user');
            conversationHistory.push({ role: "user", content: userMessage });
            chatInput.value = ''; 
            chatInput.disabled = true;
            chatSubmitButton.disabled = true;
            showThinkingIndicator();

            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${openAIApiKey_Chatbot}`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: conversationHistory,
                        max_tokens: 180, 
                        temperature: 0.7
                    })
                });
                
                const thinkingMsg = chatDisplay.querySelector('.thinking-message');
                if(thinkingMsg) thinkingMsg.remove();

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Error de API OpenAI (Chatbot):', errorData);
                    addMessageToChatDisplay(`Error ${response.status}: ${errorData.error?.message || 'No se pudo obtener respuesta de AstroBot.'}`, 'assistant');
                    conversationHistory.pop(); // Quita el último mensaje del usuario si la IA falla para reintentar
                    return;
                }

                const data = await response.json();
                if (data.choices && data.choices.length > 0 && data.choices[0].message && data.choices[0].message.content) {
                    const aiMessage = data.choices[0].message.content.trim();
                    addMessageToChatDisplay(aiMessage, 'assistant');
                    conversationHistory.push({ role: "assistant", content: aiMessage });
                } else {
                    addMessageToChatDisplay('No se pudo obtener una respuesta válida de AstroBot en este momento.', 'assistant');
                    console.error('Respuesta inesperada de API OpenAI (Chatbot):', data);
                    conversationHistory.pop(); 
                }

            } catch (error) {
                console.error('Error al contactar AstroBot (OpenAI API):', error);
                const thinkingMsg = chatDisplay.querySelector('.thinking-message');
                if(thinkingMsg) thinkingMsg.remove();
                addMessageToChatDisplay(`Lo siento, hubo un problema de conexión con AstroBot. Intenta de nuevo más tarde. (${error.message})`, 'assistant');
                conversationHistory.pop(); 
            } finally {
                chatInput.disabled = false;
                chatSubmitButton.disabled = false;
                chatInput.focus();
            }
        }

        if (chatSubmitButton && chatInput && chatDisplay) {
            chatSubmitButton.addEventListener('click', handleChatSubmit);
            chatInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Evita que el Enter haga un submit de formulario si estuviera en uno
                    handleChatSubmit();
                }
            });
        } else {
            console.warn("Elementos del ChatBot (chat-display, chat-input, chat-submit) no encontrados. Verifica los IDs en el HTML.");
        }
        // --- FIN CÓDIGO CHATBOT IA ---


        // Google Maps API - Se mantiene el código original
        function initMap() {
            const observatoryLocation = { lat: -34.5650, lng: -58.7070 }; 
            const mapDiv = document.getElementById('map');
           
            if (typeof google !== 'undefined' && google.maps) {
                mapDiv.innerHTML = ''; 
                const map = new google.maps.Map(mapDiv, {
                    center: observatoryLocation,
                    zoom: 15,
                    styles: [ { elementType: "geometry", stylers: [{ color: "#242f3e" }] }, { elementType: "labels.text.stroke", stylers: [{ color: "#242f3e" }] }, { elementType: "labels.text.fill", stylers: [{ color: "#746855" }] }, { featureType: "administrative.locality", elementType: "labels.text.fill", stylers: [{ color: "#d59563" }] }, { featureType: "poi", elementType: "labels.text.fill", stylers: [{ color: "#d59563" }] }, { featureType: "poi.park", elementType: "geometry", stylers: [{ color: "#263c3f" }] }, { featureType: "poi.park", elementType: "labels.text.fill", stylers: [{ color: "#6b9a76" }] }, { featureType: "road", elementType: "geometry", stylers: [{ color: "#38414e" }] }, { featureType: "road", elementType: "geometry.stroke", stylers: [{ color: "#212a37" }] }, { featureType: "road", elementType: "labels.text.fill", stylers: [{ color: "#9ca5b3" }] }, { featureType: "road.highway", elementType: "geometry", stylers: [{ color: "#746855" }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ color: "#1f2835" }] }, { featureType: "road.highway", elementType: "labels.text.fill", stylers: [{ color: "#f3d19c" }] }, { featureType: "transit", elementType: "geometry", stylers: [{ color: "#2f3948" }] }, { featureType: "transit.station", elementType: "labels.text.fill", stylers: [{ color: "#d59563" }] }, { featureType: "water", elementType: "geometry", stylers: [{ color: "#17263c" }] }, { featureType: "water", elementType: "labels.text.fill", stylers: [{ color: "#515c6d" }] }, { featureType: "water", elementType: "labels.text.stroke", stylers: [{ color: "#17263c" }] },
                    ]
                });
                new google.maps.Marker({
                    position: observatoryLocation,
                    map: map,
                    title: 'Observatorio de Física Cósmica de San Miguel'
                });
            } else {
                mapDiv.innerHTML = '<p class="text-red-400">Error al cargar Google Maps. Asegúrate de que la API Key es correcta y está habilitada, y que tienes conexión a internet.</p>';
                console.error("Google Maps API object not available.");
            }
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDLRE28Z6lc3CU8jG2gSZNPetJQeEDtI5A&callback=initMap"></script> {/* API Key de Google Maps */}
</body>
</html>
